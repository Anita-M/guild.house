{% extends "bookings/base.html" %}


{% block title %}{{ homepage.title }} - {{ block.super }}{% endblock %}


{% block content %}

<div class="row">
  <div class="col-sm-6">

{% if not object.code %}
<h1>New Booking</h1>
{% else %}
<h3>{% include "bookings/_booking_list.html" with obj=object %}</h3>

{% endif %}


<form action="" method="post">
{% csrf_token %}
<table>
    {{ form }}

    <tr>
      <th></th>
      <td>
        <button type="submit" class="btn btn-default btn-lg">
          <i class="fa fa-save fa-fw"></i>
          <span class="network-name">Save</span>
        </button>
      </td>
    </tr>
</table>
</form>

  </div>

  <div class="col-sm-5">

{% include "bookings/_calendar.html" %}

<hr>

{% include "bookings/_date-pax.html" %}

</div>

<ul>
    {% for obj in object_list %}
    {% include "bookings/_booking_list.html" %}
    {% endfor %}
</ul>


{% endblock %}

{% block extra_static %}
<script>
$(".time").click(function() {
  $("#id_reserved_time").val($(this).data("time")).addClass("active");
  $(".time").removeClass("active");
  $(this).addClass("active");
});
$(".date").click(function() {
  $("#id_reserved_date").val($(this).data("date")).addClass("active");
  $(".date").removeClass("active");
  $(this).addClass("active");
});
$(".pax").click(function() {
  $("#id_party_size").val($(this).data("pax")).addClass("active");
  $(".pax").removeClass("active");
  $(this).addClass("active");
});
$("#id_phone, #id_name, #id_email, #id_party_size, #id_reserved_date, #id_reserved_time, #id_booking_method, #id_notes").change(function(){
  $(this).addClass("active");
})
</script>

{% endblock %}
